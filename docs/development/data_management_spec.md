# 数据管理规范

## 一、数据命名规范

### 1.1 命名格式

所有数据文件必须遵循统一的命名格式：

```
前缀-堆场名-日期-第次
```

### 1.2 前缀定义

- **YX**：原始影像数据（Image）
- **MX**：模型数据（Model）
- **DY**：点云数据（Point Cloud）

### 1.3 命名组成部分

- **前缀**：YX/MX/DY，标识数据类型
- **堆场名**：如"龙口煤场"、"天津港"、"秦皇岛煤场"、"黄骅港"、"日照港"、"青岛港"
- **日期**：YYYY-MM-DD 格式，表示数据采集日期
- **第次**：01、02、03...，表示当天第几次数据采集
- **连接符**：使用短横线（-）连接各部分

### 1.4 命名示例

```
YX-龙口煤场-2025-08-16-01  （龙口煤场8月16日第1次原始影像）
MX-龙口煤场-2025-08-16-01  （对应的模型数据）
DY-龙口煤场-2025-08-16-01  （对应的点云数据）
YX-天津港-2025-08-17-02    （天津港8月17日第2次原始影像）
```

## 二、数据处理流程与关联关系

### 2.1 数据处理流程

```
原始影像（YX） → 三维重建处理 → 模型数据（MX） + 点云数据（DY）
```

### 2.2 数据关联规则

1. **一对多关系**：一个原始影像经过三维重建处理后，生成对应的模型数据和点云数据
2. **关联标识**：同一批次数据具有相同的堆场名、日期和第次编号
3. **时间关系**：模型数据和点云数据的生成时间晚于对应的原始影像上传时间
4. **存储关系**：三种数据类型分别存储，通过命名规范建立逻辑关联

### 2.3 数据组合示例

**龙口煤场 2025-08-15 第01次数据组**：

- 原始影像：YX-龙口煤场-2025-08-15-01 （4.2 GB）
- 模型数据：MX-龙口煤场-2025-08-15-01 （2.4 GB）
- 点云数据：DY-龙口煤场-2025-08-15-01 （1.8 GB）

## 三、数据管理界面规范

### 3.1 筛选标签设计

- **全部数据**：显示所有类型数据（YX + MX + DY）
- **原始影像**：仅显示YX前缀数据（type = image）
- **模型数据**：仅显示MX前缀数据（type = model）
- **点云数据**：仅显示DY前缀数据（type = pointcloud）

### 3.2 操作权限控制

- **模型数据**：支持查看功能，可跳转到三维展示界面
- **点云数据**：支持查看功能，可跳转到三维展示界面
- **原始影像**：不支持网页查看，显示"——"

### 3.3 数据展示字段

- **数据ID**：唯一标识符（如D001、D002）
- **名称**：遵循命名规范的完整名称
- **类型**：原始影像/模型数据/点云数据，带对应图标
- **大小**：文件大小信息
- **上传时间**：数据上传的具体时间

## 四、PDM工具约束机制

### 4.1 强制约束

- PDM工具在上传时强制执行命名规范检查
- 不符合规范的文件将被拒绝上传
- 系统提供命名规范提示和示例

### 4.2 约束范围

- 适用于所有数据类型（原始影像、模型数据、点云数据）
- 覆盖所有堆场和时间段
- 确保数据命名的一致性和可追溯性

## 五、数据检索与管理

### 5.1 检索规则

- 通过前缀快速识别数据类型
- 通过堆场名筛选特定场地数据
- 通过日期范围查找时间段数据
- 通过第次编号区分同日多次采集

### 5.2 管理便利性

- 命名规范化便于自动化处理
- 支持批量操作和数据迁移
- 利于数据备份和恢复
- 方便数据关联关系维护

---

**文档版本**：v1.0  
**最后更新**：2025年8月22日  
**适用系统**：天巡散货体积监测系统  
**执行工具**：PDM数据管理工具